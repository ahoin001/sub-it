(this["webpackJsonpptwd-client"]=this["webpackJsonpptwd-client"]||[]).push([[0],{39:function(e,t,a){e.exports=a(69)},44:function(e,t,a){},45:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),o=a.n(l),c=(a(44),a(1)),s=a(2),i=a(4),m=a(3),u=a(5),d=(a(45),a(8)),p=a(14),h=(a(23),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"logOut",value:function(e){e.preventDefault(),localStorage.removeItem("usertoken"),this.props.history.push("/login")}},{key:"render",value:function(){var e=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{className:"navbar-brand",to:"/"})),r.a.createElement("li",null,r.a.createElement(d.b,{className:"navbar-brand",to:"/login"},r.a.createElement("span",{className:"nav_elements"},"Login"))),r.a.createElement("li",null,r.a.createElement(d.b,{className:"navbar-brand",to:"/register"},r.a.createElement("span",{className:"nav_elements"},"Register")))),t=r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"navbar-brand",to:"/dashboard"},r.a.createElement("span",{className:"nav_elements"}," Dashboard "))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"navbar-brand",to:"/",onClick:this.logOut.bind(this)},r.a.createElement("span",{className:"nav_elements"}," Logout "))));return r.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-light bg-dark"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(d.b,{to:"/",className:"nav-link"},r.a.createElement("span",{className:"nav_elements"},r.a.createElement("img",{className:"logoIron",src:"/2.png",alt:"blah"}))))),r.a.createElement("span",{className:"navbar-text"},localStorage.usertoken?t:e)))}}]),t}(n.Component)),b=Object(p.e)(h);var g=function(){return r.a.createElement("div",{id:"main"},r.a.createElement("h1",{id:"main_text"},"Add Subtitles to Video"),r.a.createElement("img",{src:"https://media.giphy.com/media/5eEXDblmnFr2VlV6x1/giphy.gif",alt:"landing_pic"}),r.a.createElement("div",null,r.a.createElement("br",null)),r.a.createElement("h6",{id:"sub_text"},"Want to subtitle a video? sub it! does it for you"),r.a.createElement("div",null,r.a.createElement("br",null)))};var v=function(){return r.a.createElement("div",{id:"footer"},r.a.createElement("div",{className:"card-deck"},r.a.createElement("div",{className:"card bg-dark"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("p",{className:"card-text"},"Upload your footage"),r.a.createElement("h6",null,"Upload the video you want to subtitle or paste a link if it is already online"))),r.a.createElement("div",{className:"card bg-dark"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("p",{className:"card-text"},"Type and time your subtitles"),r.a.createElement("h6",null,"Transcribe the text you want and space your subtitle on the video timeline using IronTitles editor"))),r.a.createElement("div",{className:"card bg-dark"},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("p",{className:"card-text"},"Share your video"),r.a.createElement("h6",null,"Download your subtitled video to share on social media"),r.a.createElement("img",{className:"socialMedia",src:"https://i.ya-webdesign.com/images/social-media-bar-png.png",alt:"social media pics"})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("footer",null,"Copyright \xa9 2019."))},E=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(v,null))}}]),t}(n.Component),f=a(15),N=a(12),y=a(7),j=a.n(y),T=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={userName:"",email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(N.a)(e)),e.onSubmit=e.onSubmit.bind(Object(N.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={userName:this.state.userName,email:this.state.email,password:this.state.password},n=this.state.userName;localStorage.setItem("currentUser",n),function(e){return j.a.post("".concat("https://sub-it.herokuapp.com/api","/login"),{userName:e.userName,email:e.email,password:e.password}).then((function(e){return localStorage.setItem("usertoken",e.data),e.data})).catch((function(e){console.log(e)}))}(a).then((function(e){e?(console.log(e.userDoc.userName),localStorage.setItem("currentUserId",e.userDoc._id),localStorage.setItem("currentUserName",e.userDoc.userName),t.props.history.push("/dashboard/".concat(e.userDoc._id))):alert("Please, provide correct credentials")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container_login"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},r.a.createElement("span",{className:"form_title_text"},"Have an account already?")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("span",{className:"form_text"},"Email address")),r.a.createElement("input",{type:"email",className:"form-control",name:"email",autoComplete:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"form_text"},"Password")),r.a.createElement("input",{type:"password",className:"form-control",autoComplete:"current-password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-dark btn-block"},r.a.createElement("span",{className:"button_text"},"Sign in"))))))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={userName:"",email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(N.a)(e)),e.onSubmit=e.onSubmit.bind(Object(N.a)(e)),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return j.a.post("".concat("https://sub-it.herokuapp.com/api","/signup"),{userName:e.userName,email:e.email,password:e.password}).then((function(e){console.log("Registered")}))}({userName:this.state.userName,email:this.state.email,password:this.state.password}).then((function(e){t.props.history.push("/login")}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container_register"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},r.a.createElement("span",{className:"form_title_text"},"Create an account")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},r.a.createElement("span",{className:"form_text"},"Name")),r.a.createElement("input",{type:"text",className:"form-control",name:"userName",autoComplete:"username",placeholder:"Enter your name",value:this.state.userName,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("span",{className:"form_text"},"Email address")),r.a.createElement("input",{type:"email",className:"form-control",name:"email",autoComplete:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"form_text"},"Password")),r.a.createElement("input",{type:"password",className:"form-control",autoComplete:"current-password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-dark btn-block"},r.a.createElement("span",{className:"button_text"},"Register"))))))}}]),t}(n.Component),x=a(21),C=a.n(x),k=a(37),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).delete=function(e){var t=localStorage.getItem("projId");j.a.delete("".concat("https://sub-it.herokuapp.com/api","/project/").concat(t,"/deleteProject")).then(console.log("Deleted")).catch((function(e){return console.log(e)}))},a.state={hasErrors:!1,projects:[],userName:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("currentUserId");Object(k.a)(C.a.mark((function a(){var n;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.get("".concat("https://sub-it.herokuapp.com/api","/dashboard/").concat(t));case 2:n=a.sent,e.setState({projects:n.data});case 4:case"end":return a.stop()}}),a)})))();var a=localStorage.getItem("currentUserName");this.setState({userName:a})}},{key:"renderingElements",value:function(){var e=this;return 0===this.state.projects.length?r.a.createElement("div",null,r.a.createElement("h2",null,"What are you waiting for creating a project?"),r.a.createElement("a",{href:"/form",className:"btn btn-dark"},"Add a project")):this.state.projects.map((function(t,a){return localStorage.setItem("projId",t._id),localStorage.setItem("title",t.title),localStorage.setItem("genre",t.genre),localStorage.setItem("description",t.description),localStorage.setItem("language",t.language),r.a.createElement("div",{className:"container_profile",key:t._id},r.a.createElement("div",{className:"card",style:{width:450}},r.a.createElement("div",{className:"embed-responsive embed-responsive-4by3"},r.a.createElement("iframe",{width:"100%",height:"100%",src:t.videoURL,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"1"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},t.title),r.a.createElement("h6",{className:"card-text"},"basic category: ",t.genre),r.a.createElement("h6",{className:"card-text"},"brief reference: ",t.description),r.a.createElement("h6",{className:"card-text"},"target language: ",t.language),r.a.createElement(d.b,{to:"/project/".concat(t._id),className:"btn btn-dark"},"Full project"),r.a.createElement(d.b,{to:"/update",className:"btn btn-secondary"},"Update project"),r.a.createElement("button",{onClick:e.delete,className:"remove-btn btn btn-danger"},"Delete"))),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/form",className:"btn btn-dark"},"Add a project")))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container_profile"},r.a.createElement("div",null,r.a.createElement("h2",null,"Hello, ",this.state.userName,"!")),r.a.createElement("div",null,this.renderingElements()))}}]),t}(n.Component),O=j.a.create({baseURL:"".concat("https://sub-it.herokuapp.com/api","/")}),I=function(e){throw e},_={service:O,handleUpload:function(e){return O.post("/upload",e).then((function(e){return e.data})).catch(I)},saveNewProject:function(e){var t=localStorage.getItem("currentUserId");return console.log("new project is: ",e),O.post("create-project/".concat(t),e).then((function(e){return e.data})).catch(I)}},U=(a(68),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("videoURL",e.target.files[0]),_.handleUpload(t).then((function(e){a.setState({videoURL:e.secure_url}),console.log(a.state.videoURL)})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.handleSubmit=function(e){e.preventDefault(),_.saveNewProject(a.state).then((function(e){console.log("added: ",e),console.log(e);var t=localStorage.getItem("currentUserId");a.props.history.push("/dashboard/".concat(t))})).catch((function(e){console.log("Error while adding the thing: ",e)}))},a.state={title:"",genre:"",description:"",language:"",videoURL:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container_project"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},r.a.createElement("form",{noValidate:!0,onSubmit:function(t){return e.handleSubmit(t)},crossOrigin:"anonymous"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"}),r.a.createElement("div",{id:"file-js-example",className:"file is-centered is-dark has-name"},r.a.createElement("label",{className:"file-label"},r.a.createElement("input",Object(f.a)({className:"file-input",type:"file",name:"resume",onChange:function(t){return e.blah()}},"onChange",(function(t){return e.handleFileUpload(t)}))),r.a.createElement("span",{className:"file-cta"},r.a.createElement("span",{className:"file-icon"},r.a.createElement("i",{className:"fas fa-upload"})),r.a.createElement("span",{className:"file-label"},"Choose a file\u2026")),r.a.createElement("span",{className:"file-name"},"No file uploaded"))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},r.a.createElement("span",{className:"form_text"},"Title")),r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Give it a title",value:this.state.title,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"genre"},r.a.createElement("span",{className:"form_text"},"Category")),r.a.createElement("input",{type:"text",className:"form-control",name:"genre",placeholder:"Category",value:this.state.genre,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},r.a.createElement("span",{className:"form_text"},"What is it about?")),r.a.createElement("textarea",{type:"text",className:"form-control",name:"description",placeholder:"description",value:this.state.description,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"language"},r.a.createElement("span",{className:"form_text"},"Target language")),r.a.createElement("input",{type:"text",className:"form-control",name:"language",placeholder:"language",value:this.state.language,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-dark btn-block"},r.a.createElement("span",{className:"button_text"}," Save your project"))))))}}]),t}(n.Component)),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSubmit=a.onSubmit.bind(Object(N.a)(a)),a.state={project_title:"",project_genre:"",project_description:"",project_language:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("title"),t=localStorage.getItem("genre"),a=localStorage.getItem("description"),n=localStorage.getItem("language");this.setState({project_title:e,project_genre:t,project_description:a,project_Language:n}),this.onChangeTitle=this.onChangeTitle.bind(this),this.onChangeGenre=this.onChangeGenre.bind(this),this.onChangeDescription=this.onChangeDescription.bind(this),this.onChangeLanguage=this.onChangeLanguage.bind(this),this.onSubmit=this.onSubmit.bind(this)}},{key:"onChangeTitle",value:function(e){this.setState({project_title:e.target.value})}},{key:"onChangeGenre",value:function(e){this.setState({project_genre:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({project_description:e.target.value})}},{key:"onChangeLanguage",value:function(e){this.setState({project_language:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={title:this.state.project_title,genre:this.state.project_genre,description:this.state.project_description,language:this.state.project_language},a=localStorage.getItem("projId");j.a.put("".concat("https://sub-it.herokuapp.com/api","/project/").concat(a,"/updateProject"),t).then((function(e){return console.log(e.data)}));var n=localStorage.getItem("currentUserId");this.props.history.push("/dashboard/".concat(n))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"10%"}},r.a.createElement("h3",{align:"center"},"Update Project"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:  "),r.a.createElement("input",{type:"text",name:"title",className:"form-control",value:this.state.project_title,onChange:this.onChangeTitle})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Genre: "),r.a.createElement("input",{type:"text",name:"genre",className:"form-control",value:this.state.project_genre,onChange:this.onChangeGenre})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("textarea",{type:"text",name:"description",className:"form-control",value:this.state.project_description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Language: "),r.a.createElement("input",{type:"text",name:"language",className:"form-control",value:this.state.project_language,onChange:this.onChangeLanguage})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Edit Project",className:"btn btn-lg btn-dark btn-block"}))))}}]),t}(n.Component),D=a(38),V=a.n(D),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).listSubtitles=function(){var e=document.querySelector("video").textTracks,t=document.getElementById("subtitle-list");a.state.subtitles.map((function(a){var n=a.inTime,r=a.outTime,l=a.text,o=new VTTCue(n,r,l);e[0].addCue(o),console.log(e[0]),t.innerHTML+="<li>".concat(a.text," || ").concat(a.inTimeVTT," --\x3e ").concat(a.outTimeVTT,"</li><br>")}))},a.listOneSubtitle=function(e,t,a){document.getElementById("subtitle-list").innerHTML+="<li>".concat(e," || ").concat(t," --\x3e ").concat(a,"</li><br>")},a.timeToVTT=function(e){var t=e.toFixed(3).split("."),a=t[0],n=t[1],r=Math.floor(a/3600);a%=3600;var l=Math.floor(a/60),o=a%60;return l=String(l).padStart(2,"0"),(r=String(r).padStart(2,"0"))+":"+l+":"+(o=String(o).padStart(2,"0"))+"."+n},a.createSub=function(){var e=document.querySelector("video").textTracks,t=document.getElementById("video"),n=document.getElementById("creation-button");if(!1===a.state.subInit){var r=t.currentTime,l=new VTTCue(r,null,"");e[0].addCue(l),a.setState({subInit:!0}),n.innerHTML="Out Time"}else{var o=t.currentTime,c=e[0].cues.length;t.pause(),e[0].cues[c-1].endTime=o,a.setState({subInit:!1}),a.completeSub(),n.innerHTML="In Time"}},a.completeSub=function(){document.getElementById("sub-text").style.display="block"},a.saveSubtitle=function(){var e=document.getElementById("sub-text"),t=document.querySelector("video").textTracks,n=document.getElementById("video"),r=t[0].cues.length,l=document.getElementById("this-sub-text").value;t[0].cues[r-1].text=l,document.getElementById("this-sub-text").value="";var o=a.props.projectId,c=a.timeToVTT(t[0].cues[r-1].startTime),s=a.timeToVTT(t[0].cues[r-1].endTime);a.setState({inTime:t[0].cues[r-1].startTime,outTime:t[0].cues[r-1].endTime,text:t[0].cues[r-1].text,inTimeVTT:c,outTimeVTT:s},(function(){var e={inTime:a.state.inTime,outTime:a.state.outTime,text:a.state.text,inTimeVTT:a.state.inTimeVTT,outTimeVTT:a.state.outTimeVTT};a.listOneSubtitle(a.state.text,a.state.inTimeVTT,a.state.outTimeVTT),j.a.post("".concat("https://sub-it.herokuapp.com/api","/").concat(o,"/add-sub"),e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})),n.play(),e.style.display="none"},a.cancelSubtitle=function(){var e=document.getElementById("sub-text"),t=document.querySelector("video").textTracks,a=document.getElementById("video"),n=t[0].cues.length;t[0].removeCue(t[0].cues[n-1]),document.getElementById("this-sub-text").value="",a.play(),e.style.display="none"},a.downloadSub=function(){var e=a.props.projectId,t="WEBVTT";j.a.get("".concat("https://sub-it.herokuapp.com/api","/subtitles/").concat(e)).then((function(e){a.setState({download:e.data.subArray}),a.state.download.map((function(e){t+="\n\n".concat(e.inTimeVTT," --\x3e ").concat(e.outTimeVTT,"\n").concat(e.text)}));var n=new Blob([t],{type:"text/plain;charset=utf-8",endings:"native"});V.a.saveAs(n,"subtitles.vtt")})).catch((function(e){}))},a.state={subInit:!1,inTime:0,outTime:0,text:"",inTimeVTT:"",outTimeVTT:"",subtitles:[],download:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.projectId;j.a.get("".concat("https://sub-it.herokuapp.com/api","/subtitles/").concat(t)).then((function(t){e.setState({subtitles:t.data.subArray}),e.listSubtitles()})).catch((function(e){}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{id:"creation-button",onClick:this.createSub},"In Time"),r.a.createElement("div",{id:"sub-text",className:"modal",style:{display:"none"}},r.a.createElement("div",{id:"sub-modal"},r.a.createElement("span",{id:"close",onClick:this.cancelSubtitle},"\xd7"),r.a.createElement("textarea",{id:"this-sub-text",rows:"2",cols:"50",maxLength:"80"}),r.a.createElement("button",{id:"save-text-btn",onClick:this.saveSubtitle},"Save"),r.a.createElement("button",{id:"cancel-btn",onClick:this.cancelSubtitle},"Cancel"))),r.a.createElement("div",{id:"show-subtitles"},"Subtitles:",r.a.createElement("ul",{id:"subtitle-list"})),r.a.createElement("button",{id:"download-button",onClick:this.downloadSub},"Download subtitles"))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"video-container"},r.a.createElement("video",{id:"video",crossOrigin:"anonymous",autoPlay:!0,controls:!0,preload:"metadata"},r.a.createElement("source",{src:this.props.videoURL}),r.a.createElement("track",{id:"my-subs",label:"English",kind:"subtitles",srcLang:"en",src:"",default:!0}))))}}]),t}(r.a.Component),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={videoURL:"",ready:!1,pip:!1,playing:!0,controls:!1,light:!1,volume:.8,muted:!1,played:0,loaded:0,duration:0,playbackRate:1,loop:!1,currentProjectId:""},a.getIdFromUrl=function(){var e=window.location.pathname.split("/");return e.pop()||e.pop()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.getIdFromUrl();console.log("my project ID is: "+t),this.setState({currentProjectId:t}),j.a.get("".concat("https://sub-it.herokuapp.com/api","/project-info/").concat(t)).then((function(t){e.setState({videoURL:t.data.videoURL})})).catch((function(e){}))}},{key:"componentDidMount",value:function(){this.state.ready=!0}},{key:"render",value:function(){var e,t=this.state.videoURL;return e=this.state.ready?r.a.createElement(B,{videoURL:t}):"Loading...",r.a.createElement("div",{className:"container_profile"},e,r.a.createElement(F,{projectId:this.state.currentProjectId}))}}]),t}(r.a.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(p.a,{exact:!0,path:"/",component:E}),r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{exact:!0,path:"/register",component:S}),r.a.createElement(p.a,{exact:!0,path:"/login",component:T}),r.a.createElement(p.a,{path:"/dashboard",component:w}),r.a.createElement(p.a,{path:"/project",component:R}),r.a.createElement(p.a,{path:"/update",component:L}),r.a.createElement(p.a,{exact:!0,path:"/form",component:U}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d.a,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.b18d1315.chunk.js.map